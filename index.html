<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AI Governance Strategy — v4</title>
  <link rel="stylesheet" href="src/styles.css">
  <script src="src/csv-parser.js"></script>
</head>
<body>
<header>
  <div class="brand">
    <h1>AI Governance Strategy — v4</h1>
    <p class="sub">You’ve been given a shadow role in charge of Global AI Policy. With limited funds and political capital, steer AI towards safety.</p>
  </div>
  <div class="temp">
    <label for="difficultyMode">Difficulty Mode</label>
    <select id="difficultyMode">
      <option value="optimist">Optimist (95°)</option>
      <option value="realist" selected>Realist (70°)</option>
      <option value="pessimist">Pessimist (35°)</option>
      <option value="yudkowskyite">Yudkowskyite (5°)</option>
    </select>
    <span id="tempVal">0.50</span>
  </div>
</header>

<main>
  <section class="intro card">
    <p><b>Briefing:</b> You have a fixed budget and political capital. Pick <i>one</i> strategic posture (free), then purchase institutions, laws, and technical controls within your constraints. Some choices require others; some complement or clash. When ready, <b>Lock In</b>, then roll the outcome.</p>
    <div class="modebar">
      <div class="modes">
        <label><input type="radio" name="mode" value="easy"> Easy ($400B, 40 PC)</label>
        <label><input type="radio" name="mode" value="medium" checked> Medium ($240B, 24 PC)</label>
        <label><input type="radio" name="mode" value="hard"> Hard ($160B, 16 PC)</label>
      </div>
      <div class="budget">
        <span>Budget: <b>$<span id="moneyLeft">—</span>B</b></span>
        <span>Political capital: <b><span id="pcLeft">—</span> PC</b></span>
      </div>
    </div>
    <div class="search-container">
      <input type="text" id="searchInput" class="search-input" placeholder="Search governance options..." aria-label="Search governance options">
    </div>
  </section>

  <section class="palette">
    <div class="col">
      <h2>1) Strategic postures (pick one)</h2>
      <div id="postures" class="list"></div>
    </div>
    <div class="col">
      <h2>2) Institutional architectures</h2>
      <div id="institutions" class="list"></div>
    </div>
    <div class="col">
      <h2>3) Regulatory / legal mechanisms</h2>
      <div id="mechanisms" class="list"></div>
    </div>
    <div class="col">
      <h2>4) Technical & infrastructural controls</h2>
      <div id="controls" class="list"></div>
    </div>
  </section>

  <section class="build">
    <h2>Your build</h2>
    <div class="grid">
      <div>
        <h3>Posture</h3>
        <div id="picked-posture" class="picked"></div>
      </div>
      <div>
        <h3>Institutions</h3>
        <div id="picked-institutions" class="picked"></div>
      </div>
      <div>
        <h3>Laws & regulatory</h3>
        <div id="picked-mechanisms" class="picked"></div>
      </div>
      <div>
        <h3>Technical controls</h3>
        <div id="picked-controls" class="picked"></div>
      </div>
    </div>

    <div class="actions actions-topline">
      <span class="hint">Select within budget. Requirements & synergies apply.</span>
    </div>
    <div class="actions">
      <button id="lockBtn">Lock In</button>
      <button id="resetBtn">Reset All</button>
      <button id="exportBtn">Export Build</button>
    </div>
    <div class="actions">
      <button id="rollBtn" disabled>Roll outcome</button>
      <button id="mcBtn" disabled>Monte Carlo × 1000</button>
      <button id="helpBtn">Help & Guide</button>
    </div>
  </section>

  <section class="results">
    <div id="resultCard" class="card muted">
      <h3>Outcome</h3>
      <p>Choose, Lock In, then roll. Temperature and coherence matter; low temperatures make failure commonplace.</p>
    </div>
    <div id="mcCard" class="card hidden">
      <h3>Monte Carlo</h3>
      <canvas id="mcChart" width="640" height="220"></canvas>
      <p id="mcSummary" class="small"></p>
    </div>
  </section>
</main>

<div id="tooltip" class="tooltip" role="tooltip"></div>

<footer>
  <span>v4 — budgets + costs + compatibility. No LLMs. Still a toy.</span>
</footer>

<script src="src/app.js"></script>
</body>
</html>
